<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cửa Hàng</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/trangchu.css">
    <link rel="stylesheet" href="../css/cuahang.css">
</head>
<body>
  <div id="menu"></div> <!-- Chỗ này sẽ hiện menu -->
    
        <!-- Các nội dung khác của trang -->
        <script>
            fetch('menu.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('menu').innerHTML = data;
                });
        </script>
  
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
      const addToCartButtons = document.querySelectorAll('.add-to-cart-btn');

      addToCartButtons.forEach(button => {
          button.addEventListener('click', function() {
              const productCard = this.closest('.than');
              const productId = productCard.dataset.id;
              const quantityInput = productCard.querySelector('.quantity-input');
              const quantity = quantityInput.value;

              // Gửi dữ liệu lên server bằng AJAX
              fetch('../php/giohang.php', {
                  method: 'POST',
                  headers: {
                      'Content-Type': 'application/x-www-form-urlencoded',
                  },
                  body: `product_id=<span class="math-inline">\{productId\}&quantity\=</span>{quantity}`,
              })
              .then(response => response.text())
              .then(data => {
                  // Xử lý phản hồi từ server (ví dụ: hiển thị thông báo thành công)
                  console.log(data);
                  alert('Đã thêm sản phẩm vào giỏ hàng!');
              })
              .catch((error) => {
                  console.error('Lỗi:', error);
                  alert('Có lỗi xảy ra khi thêm vào giỏ hàng.');
              });
          });
      });
  });
</script>
     <h2> Chi tiết sản phẩm</h2>
     <div class="dau">
        <div class="than">
          <div class="than" data-id="1">
            <img src="../image/th.png" >
            <div class="noidung">
                <h3>TH-Sữa tươi tiệt trũng có đường 180ml</h3>
                <p>39.100 đ</p>
            </div>
            <div class="ket">
                <input type="number" min="1" value="1" class="quantity-input">
                <button class="add-to-cart-btn">Thêm vào giỏ hàng</button>
            </div>
        </div>
    
        <div class="than">
          <img src="../image/coc.png">
          <div class="noidung">
            <h3>TH-Sữa tươi bổ sung ngũ cốc 180ml</h3>
            <p>49.100 đ</p>
          </div>
          <div class="ket">
            <input type="number" min="1" value="1">
            <button>Thêm vào giỏ hàng</button>
          </div>
        </div>
    
        <div class="than">
          <img src="../image/choco.png">
          <div class="noidung">
            <h3>TH-Sữa Yến Mạch Sô Cô La TH true OAT 180 ml</h3>
            <p>43.200 đ</p>
          </div>
          <div class="ket">
            <input type="number" min="1" value="1">
            <button>Thêm vào giỏ hàng</button>
          </div>
        </div>
    
        <div class="than">
          <img src="../image/macca.png">
          <div class="noidung">
            <h3>TH-Sữa Hạt Macca TH true NUT 180 ml</h3>
            <p>49.100 đ</p>
          </div>
          <div class="ket">
            <input type="number" min="1" value="1">
            <button>Thêm vào giỏ hàng</button>
          </div>
        </div>
    
        <div class="than">
          <img src="../image/nuoc.jpg" >
          <div class="noidung">
            <h3>Nước Uống Sữa Trái Cây TH true JUICE milk</h3>
            <p>11.300 đ</p>
          </div>
          <div class="ket">
            <input type="number" min="1" value="1">
            <button>Thêm vào giỏ hàng</button>
          </div>
        </div>
    
        <div class="than">
          <img src="../image/chua.png" >
          <div class="noidung">
            <h3>Sữa Chua Ăn TH true YOGURT Vị Tự Nhiên</h3>
            <p>29.100 đ</p>
          </div>
          <div class="ket">
            <input type="number" min="1" value="1">
            <button>Thêm vào giỏ hàng</button>
          </div>
        </div>
      </div>
</body>
</html>